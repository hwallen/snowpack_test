geom_boxplot() +
theme_clean() +
labs(x = paste0(2009+i,"-", 2010+i),
y = "Delta",
title = paste0("Lumen syvyyden muutos", " ", 2009+i,"-", 2010+i),
subtitle = "Delta != 0") +
ylim(-45,45) +
geom_hline(yintercept = 0, color = "orange", linetype = "dashed") +
theme(axis.text.x = element_blank())
df_deltasnow_main  %>%
filter(winter_id == i & delta_snow != 0) %>%
ggplot(aes(x = factor(winter_id), y = delta_snow)) +
geom_boxplot() +
theme_clean() +
labs(x = paste0(2009+i,"-", 2010+i),
y = "Delta",
title = paste0("Lumen syvyyden muutos", " ", 2009+i,"-", 2010+i),
subtitle = "Delta != 0") +
ylim(-45,45) +
geom_hline(yintercept = 0, color = "orange", linetype = "dashed", size = 2.5) +
theme(axis.text.x = element_blank())
df_deltasnow_main  %>%
filter(winter_id == i & delta_snow != 0) %>%
ggplot(aes(x = factor(winter_id), y = delta_snow)) +
geom_boxplot() +
theme_clean() +
labs(x = paste0(2009+i,"-", 2010+i),
y = "Delta",
title = paste0("Lumen syvyyden muutos", " ", 2009+i,"-", 2010+i),
subtitle = "Delta != 0") +
ylim(-45,45) +
geom_hline(yintercept = 0, color = "orange", linetype = "dashed", size = 1.5) +
theme(axis.text.x = element_blank())
df_deltasnow_main  %>%
filter(winter_id == i & delta_snow != 0) %>%
ggplot(aes(x = factor(winter_id), y = delta_snow)) +
geom_boxplot() +
theme_clean() +
labs(x = paste0(2009+i,"-", 2010+i),
y = "Delta",
title = paste0("Lumen syvyyden muutos", " ", 2009+i,"-", 2010+i),
subtitle = "Delta != 0") +
ylim(-45,45) +
geom_hline(yintercept = 0, color = "orange", linetype = "dashed", size = 1.25) +
theme(axis.text.x = element_blank())
df_deltasnow_main  %>%
filter(winter_id == i & delta_snow != 0) %>%
ggplot(aes(x = factor(winter_id), y = delta_snow)) +
geom_boxplot() +
theme_clean() +
labs(x = paste0(2009+i,"-", 2010+i),
y = "Delta",
title = paste0("Lumen syvyyden muutos", " ", 2009+i,"-", 2010+i),
subtitle = "Delta != 0") +
ylim(-45,45) +
geom_hline(yintercept = 0, color = "orange", linetype = "dashed", size = 1) +
theme(axis.text.x = element_blank())
for(i in 1:13){
p1 <- df_deltasnow_main  %>%
filter(winter_id == i & delta_snow != 0) %>%
ggplot(aes(x = factor(winter_id), y = delta_snow)) +
geom_boxplot() +
theme_clean() +
labs(x = paste0(2009+i,"-", 2010+i),
y = "Delta",
title = paste0("Lumen syvyyden muutos", " ", 2009+i,"-", 2010+i),
subtitle = "Delta != 0") +
ylim(-45,45) +
geom_hline(yintercept = 0, color = "orange", linetype = "dashed", size = 1) +
theme(axis.text.x = element_blank())
ggsave(p1,
filename = here("output", "plots", paste0("deltasnow-",2009+i, "-", 2010+i,".png")),
units = "px",
width = 1800,
height = 1200)
}
df_deltasnow_main
df_deltasnow_main %>%
filter(delta_snow != 0)
df_deltasnow_main %>%
filter(delta_snow != 0) %>% ggplot(aes(x = delta_snow)) + geom_histogram()
df_deltasnow_main %>%
filter(delta_snow != 0) %>% ggplot(aes(x = delta_snow)) + geom_histogram(bins = 60)
df_deltasnow_main %>%
filter(delta_snow != 0) %>% ggplot(aes(x = delta_snow)) + geom_histogram(bins = 30)
df_deltasnow_main %>%
filter(delta_snow != 0) %>% ggplot(aes(x = delta_snow)) + geom_histogram(bins = 30, color = "white")
df_deltasnow_main %>%
filter(delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow))
df_deltasnow_main %>%
filter(delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram(color = "white")
df_deltasnow_main %>%
filter(delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(delta_snow > 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(delta_snow < 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(delta_snow < 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id = 1) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 1) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 2) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 1 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 1 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 2 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 3 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 4 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_histogram()
df_deltasnow_main %>%
filter(winter_id == 4 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 1 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 2 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 3 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 4 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 5 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 6 & delta_snow != 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 6 & delta_snow > 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow_abs)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 6 & delta_snow > 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 7 & delta_snow > 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow)) + geom_density()
df_deltasnow_main %>%
filter(winter_id == 8 & delta_snow > 0) %>%
mutate(delta_snow_abs = abs(delta_snow)) %>% ggplot(aes(x = delta_snow)) + geom_density()
df_deltasnow_main
tiedostot <- list.files(here("data", "weather", "tahtela", "meteo", "snow"),
full.names = T)
aineisto <- vector(mode = "list",
length = length(tiedostot))
deltasnow_func <- function(x = 1){
df <- read_delim(tiedostot[x],
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>%
filter(month %in% c("11","12", "01", "02", "03", "04")) %>%
mutate(timestamp = ymd_hms(paste0(year, "-", month, "-", day,"-", time_local_time)),
snow_depth = case_when(snow_depth_mean_cm == -1 ~ 0,
.default = snow_depth_mean_cm)*10,
year = factor(year),
month = factor(as.double(month)),
day = factor(as.double(day)),
time30min = cut(timestamp,
breaks = "30 min"),
.keep = "unused") %>%
rename("station" = "observation_station") %>%
relocate(station,timestamp) %>%
slice(4:nrow(.)) %>%
mutate(snowdepth = snow_depth,
.keep = "unused") %>%
fill(snowdepth, .direction = "down") %>%
group_by(time30min) %>%
summarise(snowdepth30min = mean(snowdepth)) %>%
ungroup() %>%
mutate(delta_snow = c(0, diff(snowdepth30min)),
time_id = seq_along(time30min),
winter_id = x,
timestamp = as.character(time30min),
timestamp = ymd_hms(timestamp))
return(df)
}
for(i in 1:length(aineisto)){
aineisto[[i]] <- deltasnow_func(i)
}
df_deltasnow_main <- bind_rows(aineisto)
### kuvat
for(i in 1:13){
p1 <- df_deltasnow_main  %>%
filter(winter_id == i & delta_snow != 0) %>%
ggplot(aes(x = factor(winter_id), y = delta_snow)) +
geom_boxplot() +
theme_clean() +
labs(x = paste0(2009+i,"-", 2010+i),
y = "Delta",
title = paste0("Lumen syvyyden muutos", " ", 2009+i,"-", 2010+i),
subtitle = "Delta != 0") +
ylim(-45,45) +
geom_hline(yintercept = 0, color = "orange", linetype = "dashed", size = 1) +
theme(axis.text.x = element_blank())
ggsave(p1,
filename = here("output", "plots", paste0("deltasnow-",2009+i, "-", 2010+i,".png")),
units = "px",
width = 1800,
height = 1200)
}
df_deltasnow_main %>% filter(delta_snow != 0)
df_deltasnow_main %>% filter(delta_snow != 0) %>% pluck("delta_snow")
df_deltasnow_main %>% filter(delta_snow != 0) %>% pluck("delta_snow") %>% hist()
df_deltasnow_main %>%
filter(delta_snow != 0)
dfmain <- df_deltasnow_main %>%
filter(delta_snow != 0)
dfmain <- df_deltasnow_main %>%
filter(delta_snow != 0)
deltasnow_fit1 <- brm(
formula = delta_snow ~ 1,
data = dfmain,
family = student(),
chains = 8, cores = 8,
iter = 4000, warmup = 1000,
backend = "cmdstanr"
)
deltasnow_fit1 <- brm(
formula = delta_snow ~ 1,
data = dfmain,
family = student(),
chains = 8, cores = 8,
iter = 4000, warmup = 1000,
backend = "cmdstanr",
silent = 0
)
deltasnow_fit1
deltasnow_fit1 %>% pp_check()
posterior_summary(deltasnow_fit1)
df_deltasnow_main %>%
filter(delta_snow != 0, delta_snow_abs = abs(delta_snow))
df_deltasnow_main %>%
filter(delta_snow != 0) %>% mutate( delta_snow_abs = abs(delta_snow))
df_deltasnow_main %>%
filter(delta_snow != 0) %>% mutate( delta_snow_abs = abs(delta_snow)) pluck("delta_snow_abs") %>% hist()
df_deltasnow_main %>%
filter(delta_snow != 0) %>% mutate( delta_snow_abs = abs(delta_snow)) %>%  pluck("delta_snow_abs") %>% hist()
dfmain <- df_deltasnow_main %>%
filter(delta_snow != 0) %>%
mutate( delta_snow_abs = abs(delta_snow))
deltasnow_fit2 <- brm(
formula = delta_snow_abs ~ 1,
data = dfmain,
family = Gamma(link = "log"),
chains = 8, cores = 8,
iter = 4000, warmup = 1000,
backend = "cmdstanr",
silent =0
)
deltasnow_fit2
exp(1.72)
deltasnow_fit2 %>% pp_check()
deltasnow_fit1
rnorm(n= 100, mean = 0.14,, sd = 5.08)
rnorm(n= 100, mean = 0.14, sd = 5.08)
rnorm(n= 100, mean = 0.14, sd = 5.08) %>% hist()
rnorm(n= 100, mean = 0.14, sd = 5.08) %>% density()
rnorm(n= 100, mean = 0.14, sd = 5.08) %>% plot()
rnorm(n= 100, mean = 0.14, sd = 5.08) %>% as_tibble()
rnorm(n= 100, mean = 0.14, sd = 5.08) %>% as_tibble() %>% ggplot(aes(x = value)) + geom_density()
rnorm(n= 1000, mean = 0.14, sd = 5.08) %>% as_tibble() %>% ggplot(aes(x = value)) + geom_density()
rnorm(n= 10000, mean = 0.14, sd = 5.08) %>% as_tibble() %>% ggplot(aes(x = value)) + geom_density()
deltasnow_fit1
deltasnow_fit1 %>% prior_summary()
deltasnow_fit1 %>% loo() %>% plot()
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"))
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-"))
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names()
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>% map(summary)
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names()
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>%
mutate(timestamp = ymd_hms(paste0(year, "-", month, "-", day,"-", time_local_time)))
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>%
mutate(timestamp = ymd_hms(paste0(year, "-", month, "-", day,"-", time_local_time)),
.keep = "unused")
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>%
mutate(timestamp = ymd_hms(paste0(year, "-", month, "-", day,"-", time_local_time)),
.keep = "unused") %>%
relocate(timestamp)
df_main <- read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>%
mutate(timestamp = ymd_hms(paste0(year, "-", month, "-", day,"-", time_local_time)),
.keep = "unused") %>%
relocate(timestamp)
df_main %>%
ggplot(aes(x = timestamp, y = snow_depth_cm*10)) +
geom_line()
df_main$snow_depth_cm
df_main$snow_depth_cm %>% summary()
df_main %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line()
df_main
df_main %>%
filter(timestamp > "2023-02-10 01:01:00")
df_main %>%
mutate(day = day(timestamp))
?day
df_main %>%
mutate(day = day(timestamp),
hour = hour(timestamp))
df_main %>%
mutate(day = day(timestamp),
hour = hour(timestamp)) %>% map(summary)
df_main
df_main %>%
filter(timestamp > '2023-02-00 11:00:00')
df_main %>%
filter(timestamp > '2023-02-10 11:00:00')
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 06:00:00')
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 06:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 06:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line() +
theme_clean()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line() +
theme_clean()
df_main %>% names()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = wind_speed_m_s)) +
geom_line() +
theme_clean()
df_main$precipitation_amount_mm
df_main$precipitation_amount_mm %>% table()
df_main %>% names()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = air_temperature_c)) +
geom_line() +
theme_clean()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = relative_humidity_percent)) +
geom_line() +
theme_clean()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line() +
theme_clean()
read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>%
mutate(timestamp = ymd_hms(paste0(year, "-", month, "-", day,"-", time_local_time)),
.keep = "unused") %>%
relocate(timestamp)
df_main <- read_delim(here("data", "weather", "tahtela", "meteo", "case", "tahtala100220230-11022023.csv"),
delim = ",",
na = c("", "NA", "-")) %>%
clean_names() %>%
mutate(timestamp = ymd_hms(paste0(year, "-", month, "-", day,"-", time_local_time)),
.keep = "unused") %>%
relocate(timestamp)
df_main %>% names()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = dew_point_temperature_c)) +
geom_line() +
theme_clean()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = gust_speed_m_s)) +
geom_line() +
theme_clean()
library(openxlsx)
read.xlsx(here("data", "weather", "tahtela", "meteo", "case", "Sodankylä_suodattamaton.xlsx"))
read.xlsx(here("data", "weather", "tahtela", "meteo", "case", "Sodankylä_suodattamaton.xlsx")) %>%
as_tibble()
read.xlsx(here("data", "weather", "tahtela", "meteo", "case", "Sodankylä_suodattamaton.xlsx")) %>%
as_tibble()
?read.xlsx
read_excel("data/weather/tahtela/meteo/case/Sodankylä_suodattamaton.xlsx",
col_types = c("numeric", "numeric", "skip",
"numeric", "text", "text"))
library(readxl)
read_excel("data/weather/tahtela/meteo/case/Sodankylä_suodattamaton.xlsx",
col_types = c("numeric", "numeric", "skip",
"numeric", "text", "text"))
read_excel("data/weather/tahtela/meteo/case/Sodankylä_suodattamaton.xlsx",
col_types = c("date", "numeric", "numeric",
"numeric", "text", "text"))
read_excel("data/weather/tahtela/meteo/case/Sodankylä_suodattamaton.xlsx",
col_types = c("date", "numeric", "numeric",
"numeric", "text", "text")) %>%
select(1:2) %>%
clean_names()
df_snower <-  read_excel("data/weather/tahtela/meteo/case/Sodankylä_suodattamaton.xlsx",
col_types = c("date", "numeric", "numeric",
"numeric", "text", "text")) %>%
select(1:2) %>%
clean_names()
df_snower <-  read_excel("data/weather/tahtela/meteo/case/Sodankylä_suodattamaton.xlsx",
col_types = c("date", "numeric", "numeric",
"numeric", "text", "text")) %>%
select(1:2) %>%
clean_names()
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00')
df_snower
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth)) +
geom_line()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line() +
theme_clean()
df_main
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00')
df_snower
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth)) +
geom_line() +
theme_clean()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = gust_speed_m_s)) +
geom_line() +
theme_clean()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line() +
theme_clean()
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth)) +
geom_line() +
theme_clean()
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth)) +
geom_line() +
geom_hline(yintercept = 65, linetype = "dashed") +
theme_clean()
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth)) +
geom_line() +
geom_hline(yintercept = 65, linetype = "dashed", color = "orange") +
theme_clean()
df_main %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth_cm)) +
geom_line() +
theme_clean()
df_snower %>%
filter(timestamp > '2023-02-10 11:00:00', timestamp < '2023-02-11 18:00:00') %>%
ggplot(aes(x = timestamp, y = snow_depth)) +
geom_line() +
geom_hline(yintercept = 65, linetype = "dashed", color = "orange") +
theme_clean()
